{"ast":null,"code":"// apiService.js\nconst SYSTEM_PROMPT = `You are an expert brainstorming facilitator. Given the topic, participants, and goal:\n1. Choose the most appropriate brainstorming method for this specific situation\n2. Explain briefly why this method is ideal for their needs\n3. Outline just the FIRST step they should take\n4. Ask them to complete just that first step\n\nKeep your response encouraging but concise. Wait for their completion of each step before moving on.`;\nconst CONTINUATION_PROMPT = `You are an expert brainstorming facilitator guiding a session. For each response:\n1. Acknowledge and engage with what the user has shared\n2. If they've completed the current step satisfactorily, introduce the next logical step\n3. If they need more guidance or their response is insufficient, provide specific help for the current step\n4. If they ask questions, answer them clearly and return focus to the current step\n5. Keep the brainstorming momentum while ensuring quality completion of each step\n\nStay encouraging but focused. Only move forward when genuine progress is made.`;\nexport const initializeSession = async sessionData => {\n  try {\n    var _sessionData$files;\n    const formData = new FormData();\n    formData.append('topic', sessionData.topic);\n    formData.append('members', sessionData.members);\n    formData.append('goal', sessionData.goal);\n    if ((_sessionData$files = sessionData.files) !== null && _sessionData$files !== void 0 && _sessionData$files.length) {\n      Array.from(sessionData.files).forEach(file => {\n        formData.append('fileUpload', file);\n      });\n    }\n    const response = await fetch('/api/initialize_session', {\n      method: 'POST',\n      body: formData\n    });\n    if (!response.ok) {\n      throw new Error('Failed to initialize session');\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error initializing session:', error);\n    throw error;\n  }\n};\nexport const sendMessage = async (message, context) => {\n  try {\n    const response = await fetch('/api/message', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        message,\n        context: {\n          topic: context.topic,\n          members: context.members,\n          goal: context.goal,\n          history: context.history\n        }\n      })\n    });\n    if (!response.ok) {\n      throw new Error('Failed to send message');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error sending message:', error);\n    throw error;\n  }\n};\nexport const saveNotes = async notes => {\n  try {\n    const response = await fetch('/api/save_notes', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        notes\n      })\n    });\n    if (!response.ok) {\n      throw new Error('Failed to save notes');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error saving notes:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["SYSTEM_PROMPT","CONTINUATION_PROMPT","initializeSession","sessionData","_sessionData$files","formData","FormData","append","topic","members","goal","files","length","Array","from","forEach","file","response","fetch","method","body","ok","Error","data","json","error","console","sendMessage","message","context","headers","JSON","stringify","history","saveNotes","notes"],"sources":["C:/Users/rishi/Documents/brainbolt-frontend/src/api/apiService.js"],"sourcesContent":["// apiService.js\r\nconst SYSTEM_PROMPT = `You are an expert brainstorming facilitator. Given the topic, participants, and goal:\r\n1. Choose the most appropriate brainstorming method for this specific situation\r\n2. Explain briefly why this method is ideal for their needs\r\n3. Outline just the FIRST step they should take\r\n4. Ask them to complete just that first step\r\n\r\nKeep your response encouraging but concise. Wait for their completion of each step before moving on.`;\r\n\r\nconst CONTINUATION_PROMPT = `You are an expert brainstorming facilitator guiding a session. For each response:\r\n1. Acknowledge and engage with what the user has shared\r\n2. If they've completed the current step satisfactorily, introduce the next logical step\r\n3. If they need more guidance or their response is insufficient, provide specific help for the current step\r\n4. If they ask questions, answer them clearly and return focus to the current step\r\n5. Keep the brainstorming momentum while ensuring quality completion of each step\r\n\r\nStay encouraging but focused. Only move forward when genuine progress is made.`;\r\n\r\nexport const initializeSession = async (sessionData) => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('topic', sessionData.topic);\r\n    formData.append('members', sessionData.members);\r\n    formData.append('goal', sessionData.goal);\r\n\r\n    if (sessionData.files?.length) {\r\n      Array.from(sessionData.files).forEach(file => {\r\n        formData.append('fileUpload', file);\r\n      });\r\n    }\r\n\r\n    const response = await fetch('/api/initialize_session', {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to initialize session');\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error initializing session:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const sendMessage = async (message, context) => {\r\n  try {\r\n    const response = await fetch('/api/message', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        message,\r\n        context: {\r\n          topic: context.topic,\r\n          members: context.members,\r\n          goal: context.goal,\r\n          history: context.history\r\n        }\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to send message');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error sending message:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const saveNotes = async (notes) => {\r\n  try {\r\n    const response = await fetch('/api/save_notes', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ notes })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to save notes');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error saving notes:', error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}